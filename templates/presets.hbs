<div class="presets-view">
  <aside class="sidebar">
    <div class="actions">
      <button data-action="create-folder"><i class="fas fa-plus"></i> 新建文件夹</button>
      <button data-action="rename-folder"><i class="fas fa-i-cursor"></i> 重命名</button>
      <button data-action="delete-folder" class="danger"><i class="fas fa-trash"></i> 删除</button>
    </div>

    <div class="folder-list">
      {{#if hasFolders}}
        {{#each folders as |name|}}
        <div class="folder-item {{#if (eq ../activeFolder name)}}active{{/if}}" data-name="{{name}}">
          <i class="fas fa-folder"></i> {{name}}
        </div>
        {{/each}}
      {{else}}
        <div class="empty">尚无文件夹，点击“新建文件夹”。</div>
      {{/if}}
    </div>
  </aside>

  <section class="content">
    {{#if activeFolder}}
      <div class="folder-header">
        <h3><i class="fas fa-folder-open"></i> {{activeFolder}}</h3>
      </div>

      {{#if hasPresets}}
        <div class="preset-list">
          {{#each presets as |p|}}
          <div class="preset-row" data-id="{{p.id}}" data-name="{{p.name}}">
            <div class="row-head">
              <div class="left">
                <strong class="title">{{p.name}}</strong>
                <span class="count">（{{p.count}} 项）</span>
              </div>
              <div class="right">
                <button class="play" title="播放该预设"><i class="fas fa-play"></i></button>
                <button class="rename" title="重命名"><i class="fas fa-pen"></i></button>
                <button class="delete danger" title="删除"><i class="fas fa-trash"></i></button>
              </div>
            </div>
            <div class="strip">
              {{#each p.items as |it|}}
                <div class="preset-thumb" data-path="{{it.path}}" title="{{it.path}}">
                  <video class="preview" muted loop preload="metadata" playsinline></video>
                  <i class="fas fa-film fallback"></i>
                </div>
              {{/each}}
            </div>
          </div>
          {{/each}}
        </div>
      {{else}}
        <div class="empty">该文件夹下暂无预设。你可以右键双击悬浮球保存当前预设。</div>
      {{/if}}
    {{else}}
      <div class="empty big">请选择左侧一个预设文件夹。</div>
    {{/if}}
  </section>
</div>